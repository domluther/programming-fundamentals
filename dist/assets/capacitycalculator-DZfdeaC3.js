import{r as o,j as t}from"./index-DHHWhJg0.js";import{f as c,A as k,a as M}from"./numberUtils-icUVAo1-.js";import{C as E,a as T,S as Q}from"./StatsModal-CxG6TV7V.js";import{I as A}from"./input-DdH-odB1.js";import{u as F}from"./quizHooks-lLxIOt3_.js";const b=(e,s,a)=>{const i={bytes:0,kilobytes:1,megabytes:2,gigabytes:3,terabytes:4},l=i[s]-i[a];return e*1e3**l},C=()=>{const e=[{size:1,unit:"megabytes"},{size:2,unit:"megabytes"},{size:2.5,unit:"megabytes"},{size:5,unit:"megabytes"},{size:10,unit:"megabytes"},{size:20,unit:"megabytes"},{size:25,unit:"megabytes"},{size:50,unit:"megabytes"},{size:100,unit:"megabytes"},{size:200,unit:"megabytes"},{size:250,unit:"megabytes"},{size:500,unit:"megabytes"}];return e[Math.floor(Math.random()*e.length)]},D=()=>{const e=[{size:500,unit:"megabytes"},{size:1,unit:"gigabytes"},{size:2,unit:"gigabytes"},{size:4,unit:"gigabytes"},{size:5,unit:"gigabytes"},{size:10,unit:"gigabytes"},{size:20,unit:"gigabytes"},{size:50,unit:"gigabytes"},{size:100,unit:"gigabytes"}];return e[Math.floor(Math.random()*e.length)]},m=(e,s)=>e===1?s.replace(/s$/,""):s,w=e=>e.replace(/s$/,""),S=e=>{const s=[];if(e.type==="capacity"){const a=e.params.fileSize*e.params.fileCount,i=b(a,e.params.fileUnit,e.params.driveUnit);s.push({title:"Calculate the total size of all files",details:[`${c(e.params.fileCount)} files × ${c(e.params.fileSize)} ${m(e.params.fileSize,e.params.fileUnit)} = ${c(a)} ${m(a,e.params.fileUnit)}`]}),e.params.fileUnit!==e.params.driveUnit&&s.push({title:`Convert to ${e.params.driveUnit}`,details:[`${c(a)} ${m(a,e.params.fileUnit)} = ${c(i)} ${m(i,e.params.driveUnit)}`]})}else{const a=b(e.params.driveSize,e.params.driveUnit,e.params.fileUnit);s.push({title:`Convert drive size to ${e.params.fileUnit}`,details:[`${e.params.driveSize} ${m(e.params.driveSize,e.params.driveUnit)} = ${c(a)} ${m(a,e.params.fileUnit)}`]}),s.push({title:"Divide by file size to get number of files",details:[`${c(a)} ${m(a,e.params.fileUnit)} ÷ ${e.params.fileSize} ${m(e.params.fileSize,e.params.fileUnit)} = ${c(e.answer)} files`]})}return s},L=()=>{const e=D(),s=C(),a=b(e.size,e.unit,s.unit),i=Math.floor(a/s.size),r={category:"Capacity Calculator",type:"fileCount",params:{driveSize:e.size,driveUnit:e.unit,fileSize:s.size,fileUnit:s.unit},answer:i,explanation:[]};return r.explanation=S(r),r},P=()=>{const e=C(),s=Math.floor(Math.random()*8+2)*5,a=Math.random()>.5?"gigabytes":e.unit,i=s*e.size,l=b(i,e.unit,a),d={category:"Capacity Calculator",type:"capacity",params:{fileCount:s,driveUnit:a,fileSize:e.size,fileUnit:e.unit},answer:l,explanation:[]};return d.explanation=S(d),d},h=(e,s,a,i)=>{e(!1);const l=[L,P],r=l[Math.floor(Math.random()*l.length)]();s(r),a(""),i(null)};function V({onScoreUpdate:e}){const[s,a]=o.useState(null),[i,l]=o.useState(""),[r,d]=o.useState(null),[f,g]=o.useState(!1),{handleAnswerChange:U,handleSubmit:$,inputRef:u}=F(s,i,l,f,g,d,e),y=o.useId(),v=o.useId(),z=o.useId(),I=o.useId(),j=o.useId();o.useEffect(()=>{h(g,a,l,d)},[]),o.useEffect(()=>{const n=p=>{p.key==="Enter"&&f&&s&&document.activeElement!==u.current&&(h(g,a,l,d),setTimeout(()=>{u.current&&u.current.focus()},100))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[f,s]);const N=n=>{if(n.type==="fileCount"){const p=w(n.params.driveUnit),x=w(n.params.fileUnit);return`A user has a ${n.params.driveSize}-${p} drive. How many ${n.params.fileSize}-${x} files can they store on it?`}else{const p=m(n.params.fileSize,n.params.fileUnit);return`A user has ${n.params.fileCount} files that are each ${n.params.fileSize} ${p}. What is the total size in ${n.params.driveUnit}?`}};return t.jsxs("main",{className:"w-full","aria-labelledby":y,children:[t.jsx("h1",{id:y,className:"sr-only",children:"Capacity Calculator"}),t.jsx("div",{className:"p-2 sm:p-4",children:t.jsx(E,{className:"py-0 mx-auto shadow-xl bg-white/80 backdrop-blur",children:t.jsxs(T,{className:"p-4 space-y-4 sm:p-6 lg:p-8 sm:space-y-6",children:[t.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:r?.message}),s?t.jsxs("section",{"aria-labelledby":v,children:[t.jsx("h2",{id:v,className:"p-6 text-lg font-semibold text-white bg-indigo-600 rounded-lg shadow",children:N(s)}),t.jsx("form",{onSubmit:$,className:"mt-6",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:z,className:"sr-only",children:["Your answer for: ",N(s)]}),t.jsx(A,{id:z,ref:u,type:"text",inputMode:"numeric",value:i?i.includes(".")&&i.endsWith(".")||i.endsWith("0")?i:c(Number(i)):"",onChange:U,placeholder:"Enter your answer and press Enter",disabled:f,"aria-invalid":r&&!r.isCorrect?"true":"false",className:"p-6 text-lg font-bold text-center text-foreground border-2 border-indigo-200 shadow-lg transition-all duration-200 sm:text-2xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-200 rounded-xl bg-gradient-to-r from-white to-indigo-50"})]})}),r&&t.jsx("div",{className:"mt-6",children:t.jsx(k,{id:I,"aria-live":"polite",className:`border-2 shadow-lg ${r.isCorrect?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300 shadow-green-100":"bg-gradient-to-r from-red-50 to-pink-50 border-red-300 shadow-red-100"}`,children:t.jsx(M,{children:t.jsxs("div",{className:"w-full space-y-4",children:[t.jsxs("div",{className:`p-4 rounded-lg ${r.isCorrect?"bg-gradient-to-r from-green-100 to-emerald-100":"bg-gradient-to-r from-red-100 to-pink-100"}`,children:[t.jsxs("div",{className:`flex items-center text-xl font-bold ${r.isCorrect?"text-green-800":"text-red-800"}`,children:[t.jsx("span",{className:"mr-3 text-2xl",children:r.isCorrect?"🎉":"❌"}),t.jsx("span",{children:r.isCorrect?"Excellent work!":"Not quite right"})]}),!r.isCorrect&&t.jsxs("div",{className:"mt-2 font-semibold text-red-700",children:["The correct answer is"," ",t.jsx("span",{className:"px-2 py-1 text-red-900 bg-red-200 rounded",children:c(s.answer)})]})]}),t.jsx("div",{className:"flex justify-center pt-2",children:t.jsxs("button",{type:"button",onClick:()=>{h(g,a,l,d),setTimeout(()=>{u.current&&u.current.focus()},100)},"aria-label":"Generate next question",className:"px-8 py-3 font-semibold text-white rounded-lg shadow-lg transition-all duration-200 transform bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 hover:shadow-xl hover:-translate-y-1",children:[t.jsx("span",{className:"mr-2",children:"🎯"}),"Next Question"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"flex items-center mb-3 text-lg font-bold text-indigo-900",children:[t.jsx("span",{className:"mr-2",children:"📚"}),"Step-by-step explanation:"]}),r.explanation.map((n,p)=>t.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg bg-opacity-50",children:[t.jsxs("h4",{className:"flex items-center mb-2 text-base font-bold text-indigo-900",children:[t.jsx("span",{className:"flex items-center justify-center flex-shrink-0 w-6 h-6 mr-3 text-sm font-semibold text-indigo-800 bg-indigo-100 rounded-full",children:p+1}),n.title]}),t.jsx("ul",{className:"space-y-1 ml-9",children:n.details.map(x=>t.jsxs("li",{className:"text-gray-800",children:[t.jsx("span",{className:"mr-2 text-indigo-600",children:"•"}),x]},x))})]},n.title))]})]})})})})]}):t.jsx("section",{className:"py-12 text-center","aria-labelledby":j,children:t.jsxs("div",{className:"p-8 border border-indigo-200 shadow-lg bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl",children:[t.jsx("div",{className:"mb-4 text-6xl",children:"💾"}),t.jsx("h2",{id:j,className:"mb-4 text-2xl font-bold text-transparent md:text-3xl bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text",children:"Capacity Calculator"}),t.jsx("p",{className:"max-w-md mx-auto mb-6 text-lg text-gray-600",children:"Practice calculating storage capacity and file counts. Master digital storage concepts!"}),t.jsxs("button",{type:"button",onClick:()=>{h(g,a,l,d)},className:"px-8 py-3 font-semibold text-white rounded-lg shadow-lg transition-all duration-200 transform bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 hover:shadow-xl hover:-translate-y-1",children:[t.jsx("span",{className:"mr-2",children:"🚀"}),"Start Practicing"]})]})})]})})})]})}function Y(){return t.jsx(Q,{children:e=>t.jsx(V,{onScoreUpdate:e})})}export{Y as component};
