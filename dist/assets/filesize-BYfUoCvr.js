import{r as l,j as t}from"./index-DHHWhJg0.js";import{f as d,A as Q,a as k}from"./numberUtils-icUVAo1-.js";import{C as z,a as F,S as A}from"./StatsModal-CxG6TV7V.js";import{I as O}from"./input-DdH-odB1.js";import{u as T}from"./quizHooks-lLxIOt3_.js";const x=(s,e)=>s/{bits:1,bytes:8,kilobytes:8e3}[e],p=s=>{switch(s.type){case"image":{const{width:e,height:r,colourDepth:a,numberOfFiles:o}=s.params,n=[`An image is ${e} pixels by ${r} pixels using a colour depth of ${a} bits. How large is the file? Give your answer in ${s.targetUnit}.`,`A student creates an image with a colour depth of ${a} bits and a resolution of ${e} by ${r} pixels. Calculate the file size in ${s.targetUnit}.`],i=[`A user creates ${o} images on their computer. Each image has a colour depth of ${a} bits and a resolution of ${e} by ${r} pixels. Calculate the total file size of the ${o} images in ${s.targetUnit}.`,`A photographer takes ${o} digital photos. Each photo is ${e} Ã— ${r} pixels with ${a} bits per pixel. What is the total storage required in ${s.targetUnit}?`],c=o===1?n:i;return c[Math.floor(Math.random()*c.length)]}case"sound":{const{sampleRate:e,duration:r,bitDepth:a}=s.params;return`A sound file has a sample rate of ${e} Hz, duration of ${r} seconds, and bit depth of ${a} bits. What is the file size in ${s.targetUnit}?`}case"text":{const{charCount:e}=s.params;return`A text file is stored in ASCII. It has ${e} characters. How large is the file in ${s.targetUnit}?`}case"options":{const{numOfBits:e}=s.params;return`A file uses ${e} bits to store each value. How many different options can it represent?`}case"bitsFromOptions":{const{numberOfOptions:e}=s.params,r=[`An image wants to use ${e} different colours. What's the minimum number of bits to store each pixel?`,`State the minimum number of bits that will be needed to represent ${e} different colours.`];return r[Math.floor(Math.random()*r.length)]}default:return""}},U=()=>{const s=(Math.floor(Math.random()*10)+1)*2,e=(Math.floor(Math.random()*10)+1)*2,r=[1,2,3,4,5,6,8],a=r[Math.floor(Math.random()*r.length)],o=["bits","bytes"][Math.floor(Math.random()*2)],n=[1,2,10],i=n[Math.floor(Math.random()*n.length)],c=s*e*a*i,u=x(c,o),g=p({type:"image",params:{width:s,height:e,colourDepth:a,numberOfFiles:i},targetUnit:o});return{category:"File Size Calculator",type:"image",params:{width:s,height:e,colourDepth:a,numberOfFiles:i},targetUnit:o,answer:u,questionText:g,explanation:[{title:"Identify the values",details:[`Width: ${s} pixels`,`Height: ${e} pixels`,`Color depth: ${a} bits`,...i>1?[`Number of files: ${i}`]:[]]},{title:i>1?"Calculate size for one image":"Multiply width Ã— height Ã— color depth",details:[`${s} Ã— ${e} Ã— ${a} = ${d(s*e*a)} bits`]},...i>1?[{title:"Multiply by number of files",details:[`${d(s*e*a)} bits Ã— ${i} files = ${d(c)} bits`]}]:[],...o!=="bits"?[{title:`Convert to ${o}`,details:[`${d(c)} bits = ${d(u)} ${o}`]}]:[]]}},E=()=>{const s=[20,40,60,80],e=s[Math.floor(Math.random()*s.length)],r=Math.floor(Math.random()*10)+1,a=[2,4,8][Math.floor(Math.random()*3)],o=["bytes","kilobytes"][Math.floor(Math.random()*2)],n=e*r*a,i=x(n,o),u=p({type:"sound",params:{sampleRate:e,duration:r,bitDepth:a},targetUnit:o});return{category:"File Size Calculator",type:"sound",params:{sampleRate:e,duration:r,bitDepth:a},targetUnit:o,answer:i,questionText:u,explanation:[{title:"Identify the values",details:[`Sample rate: ${e} Hz`,`Duration: ${r} seconds`,`Bit depth: ${a} bits`]},{title:"Multiply sample rate Ã— duration Ã— bit depth",details:[`${e} Ã— ${r} Ã— ${a} = ${d(n)} bits`]},{title:`Convert to ${o}`,details:[`${d(n)} bits = ${d(i)} ${o}`]}]}},H=()=>{const s=(Math.floor(Math.random()*51)+10)*100,e=8,r=["bytes","kilobytes"][Math.floor(Math.random()*2)],a=s*e,o=x(a,r),i=p({type:"text",params:{charCount:s,bitsPerChar:e},targetUnit:r});return{category:"File Size Calculator",type:"text",params:{charCount:s,bitsPerChar:e},targetUnit:r,answer:o,questionText:i,explanation:[{title:"Identify the values",details:[`Number of characters: ${s}`,`Bits per character (ASCII): ${e}`]},{title:"Multiply number of characters Ã— bits per character",details:[`${s} Ã— ${e} = ${d(a)} bits`]},{title:`Convert to ${r}`,details:[`${d(a)} bits = ${d(o)} ${r}`]}]}},D=()=>{const s=Math.floor(Math.random()*7)+1,e=2**s,a=p({type:"options",params:{numOfBits:s},targetUnit:"bits"});return{category:"File Size Calculator",type:"options",params:{numOfBits:s},targetUnit:"bits",answer:e,questionText:a,explanation:[{title:"Identify the values",details:[`Number of bits: ${s}`]},{title:"Calculate 2 ^ number of bits",details:[`2^${s} = ${e} options`]}]}},B=()=>{const s=Math.floor(Math.random()*255)+1,e=Math.ceil(Math.log(s)/Math.log(2)),a=p({type:"bitsFromOptions",params:{numberOfOptions:s},targetUnit:"bits"});return{category:"File Size Calculator",type:"bitsFromOptions",params:{numberOfOptions:s},targetUnit:"bits",answer:e,questionText:a,explanation:[{title:"Identify the values",details:[`Number of options: ${s}`]},{title:"Use trial and error - which power of 2 is it less than?",details:["2^1 = 2, 2^2 = 4, 2^3 = 8, 2^4 = 16, 2^5 = 32, 2^6 = 64, 2^7 = 128, 2^8 = 256...",`Answer: ${e} bits`]},{title:"The Maths: Calculate log2(number of options)",details:[`log2(${s}) = ${e} bits`]}]}},b=(s,e,r,a)=>{s(!1);const o=[U,E,H,B,D],n=o[Math.floor(Math.random()*o.length)]();e(n),r(""),a(null)};function W({onScoreUpdate:s}){const[e,r]=l.useState(null),[a,o]=l.useState(""),[n,i]=l.useState(null),[c,u]=l.useState(!1),{handleAnswerChange:y,handleSubmit:g,inputRef:m}=T(e,a,o,c,u,i,s),$=l.useId(),w=l.useId(),j=l.useId(),N=l.useId(),v=l.useId(),I=l.useId(),M=l.useId();l.useEffect(()=>{b(u,r,o,i)},[]),l.useEffect(()=>{const h=f=>{f.key==="Enter"&&c&&e&&document.activeElement!==m.current&&(b(u,r,o,i),setTimeout(()=>{m.current&&m.current.focus()},100))};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[c,e]);const S=()=>{if(!e)return"Multiply the numbers";switch(e.type){case"image":return"ðŸ“· - colour depth * image height (px) * image width (px).";case"sound":return"ðŸ”Š - sample rate (Hz) * duration (s) * bit depth";case"text":return"ðŸ”¤ - number of characters * bits per character (8 for ASCII)";case"options":return"Number of options? 2 to the power of the number of bits";case"bitsFromOptions":return"Bits needed for options? Log2(number of options) and round up";default:return""}};return t.jsxs("main",{className:"w-full","aria-labelledby":$,children:[t.jsx("h1",{id:$,className:"sr-only",children:"File Size Calculator"}),t.jsx("div",{className:"p-2 sm:p-4",children:t.jsx(z,{className:"py-0 mx-auto shadow-xl bg-white/80 backdrop-blur",children:t.jsxs(F,{className:"p-4 space-y-4 sm:p-6 lg:p-8 sm:space-y-6",children:[t.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:n?.message}),e?t.jsxs("section",{"aria-labelledby":w,children:[t.jsx("h2",{id:w,className:"p-6 text-lg font-semibold text-white bg-indigo-600 rounded-lg shadow",children:e.questionText}),t.jsx("form",{onSubmit:g,className:"mt-6",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:j,className:"sr-only",children:["Your answer for: ",e.questionText]}),t.jsx(O,{id:j,ref:m,type:"text",inputMode:"numeric",value:a?a.includes(".")&&a.endsWith(".")||a.endsWith("0")?a:d(Number(a)):"",onChange:y,placeholder:"Enter your answer and press Enter",disabled:c,"aria-describedby":N,"aria-invalid":n&&!n.isCorrect?"true":"false",className:"p-6 text-lg font-bold text-center text-foreground transition-all duration-200 border-2 border-indigo-200 shadow-lg sm:text-2xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-200 rounded-xl bg-gradient-to-r from-white to-indigo-50"})]})}),n&&t.jsx("div",{className:"mt-6",children:t.jsx(Q,{id:I,"aria-live":"polite",className:`border-2 shadow-lg ${n.isCorrect?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300 shadow-green-100":"bg-gradient-to-r from-red-50 to-pink-50 border-red-300 shadow-red-100"}`,children:t.jsx(k,{children:t.jsxs("div",{className:"w-full space-y-4",children:[t.jsxs("div",{className:`p-4 rounded-lg ${n.isCorrect?"bg-gradient-to-r from-green-100 to-emerald-100":"bg-gradient-to-r from-red-100 to-pink-100"}`,children:[t.jsxs("div",{className:`flex items-center text-xl font-bold ${n.isCorrect?"text-green-800":"text-red-800"}`,children:[t.jsx("span",{className:"mr-3 text-2xl",children:n.isCorrect?"ðŸŽ‰":"âŒ"}),t.jsx("span",{children:n.isCorrect?"Excellent work!":"Not quite right"})]}),!n.isCorrect&&t.jsxs("div",{className:"mt-2 font-semibold text-red-700",children:["The correct answer is"," ",t.jsx("span",{className:"px-2 py-1 text-red-900 bg-red-200 rounded",children:d(e.answer)})]})]}),t.jsx("div",{className:"flex justify-center pt-2",children:t.jsxs("button",{type:"button",onClick:()=>{b(u,r,o,i),setTimeout(()=>{m.current&&m.current.focus()},100)},"aria-label":"Generate next question",className:"px-8 py-3 font-semibold text-white transition-all duration-200 transform rounded-lg shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 hover:shadow-xl hover:-translate-y-1",children:[t.jsx("span",{className:"mr-2",children:"ðŸŽ¯"}),"Next Question"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"flex items-center mb-3 text-lg font-bold text-indigo-900",children:[t.jsx("span",{className:"mr-2",children:"ðŸ“š"}),"Step-by-step explanation:"]}),n.explanation.map((h,f)=>t.jsxs("div",{className:"p-4 bg-white bg-opacity-50 border border-gray-200 rounded-lg",children:[t.jsxs("h4",{className:"flex items-center mb-2 text-base font-bold text-indigo-900",children:[t.jsx("span",{className:"flex items-center justify-center flex-shrink-0 w-6 h-6 mr-3 text-sm font-semibold text-indigo-800 bg-indigo-100 rounded-full",children:f+1}),h.title]}),t.jsx("ul",{className:"space-y-1 ml-9",children:h.details.map(C=>t.jsxs("li",{className:"text-gray-800",children:[t.jsx("span",{className:"mr-2 text-indigo-600",children:"â€¢"}),C]},C))})]},h.title))]})]})})})}),t.jsxs("details",{className:"mt-6 group",children:[t.jsx("summary",{className:"cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-lg px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 hover:from-blue-100 hover:to-indigo-100 transition-all duration-200 shadow-sm hover:shadow-md list-none [&::-webkit-details-marker]:hidden",children:t.jsxs("span",{className:"flex items-center font-semibold text-blue-800",children:[t.jsx("span",{className:"mr-2 text-lg",children:"ðŸ’¡"}),"Get calculation help",t.jsx("span",{className:"ml-auto transition-transform duration-200 group-open:rotate-180",children:"â–¼"})]})}),t.jsxs("section",{id:N,"aria-labelledby":v,children:[t.jsx("h3",{id:v,className:"sr-only",children:"Calculation Hint"}),t.jsx("div",{className:"p-4 mt-3 border-l-4 border-blue-400 rounded-r-lg shadow-inner bg-gradient-to-r from-blue-50 to-indigo-50",children:t.jsx("div",{className:"text-sm font-light text-blue-800",children:S()})})]})]})]}):t.jsx("section",{className:"py-12 text-center","aria-labelledby":M,children:t.jsxs("div",{className:"p-8 border border-indigo-200 shadow-lg bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl",children:[t.jsx("div",{className:"mb-4 text-6xl",children:"ðŸ§®"}),t.jsx("h2",{id:M,className:"mb-4 text-2xl font-bold text-transparent md:text-3xl bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text",children:"File Size Calculator"}),t.jsx("p",{className:"max-w-md mx-auto mb-6 text-lg text-gray-600",children:"Practice calculating file sizes for images, sounds, and text files. Master the fundamentals of digital storage!"}),t.jsxs("button",{type:"button",onClick:()=>{b(u,r,o,i)},className:"px-8 py-3 font-semibold text-white transition-all duration-200 transform rounded-lg shadow-lg bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 hover:shadow-xl hover:-translate-y-1",children:[t.jsx("span",{className:"mr-2",children:"ðŸš€"}),"Start Practicing"]})]})})]})})})]})}function K(){return t.jsx(A,{children:s=>t.jsx(W,{onScoreUpdate:s})})}export{K as component};
